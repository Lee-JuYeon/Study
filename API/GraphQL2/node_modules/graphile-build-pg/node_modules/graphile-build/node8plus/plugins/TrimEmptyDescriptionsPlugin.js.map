{"version":3,"sources":["../../src/plugins/TrimEmptyDescriptionsPlugin.js"],"names":["TrimEmptyDescriptionsPlugin","builder","rmEmptyTypeDescription","type","description","rmEmptyFieldDescription","field","rmEmptyArgDescriptions","args","argName","arg","hook"],"mappings":";;;;;;;AAGA;AACA;AAEA,MAAMA,2BAAmC,GAAG,UAAUC,OAAV,EAAmB;AAC7D,QAAMC,sBAAsB,GAAGC,IAAI,IAAI;AACrC,QAAIA,IAAI,CAACC,WAAL,KAAqB,EAAzB,EAA6B;AAC3BD,MAAAA,IAAI,CAACC,WAAL,GAAmB,IAAnB;AACD;;AACD,WAAOD,IAAP;AACD,GALD;;AAMA,QAAME,uBAAuB,GAAGC,KAAK,IAAI;AACvC,QAAIA,KAAK,CAACF,WAAN,KAAsB,EAA1B,EAA8B;AAC5BE,MAAAA,KAAK,CAACF,WAAN,GAAoB,IAApB;AACD;;AACD,WAAOE,KAAP;AACD,GALD;;AAMA,QAAMC,sBAAsB,GAAGC,IAAI,IAAI;AACrC,QAAI,CAACA,IAAL,EAAW;AACT,aAAOA,IAAP;AACD;;AACD,SAAK,MAAMC,OAAX,IAAsBD,IAAtB,EAA4B;AAC1B,YAAME,GAAG,GAAGF,IAAI,CAACC,OAAD,CAAhB;;AACA,UAAIC,GAAG,CAACN,WAAJ,KAAoB,EAAxB,EAA4B;AAC1BM,QAAAA,GAAG,CAACN,WAAJ,GAAkB,IAAlB;AACD;AACF;;AACD,WAAOI,IAAP;AACD,GAXD;;AAYAP,EAAAA,OAAO,CAACU,IAAR,CAAa,mBAAb,EAAkCT,sBAAlC;AACAD,EAAAA,OAAO,CAACU,IAAR,CAAa,gCAAb,EAA+CN,uBAA/C;AACAJ,EAAAA,OAAO,CAACU,IAAR,CAAa,qCAAb,EAAoDJ,sBAApD;AACAN,EAAAA,OAAO,CAACU,IAAR,CAAa,wBAAb,EAAuCT,sBAAvC;AACAD,EAAAA,OAAO,CAACU,IAAR,CAAa,qCAAb,EAAoDN,uBAApD;AACAJ,EAAAA,OAAO,CAACU,IAAR,CAAa,kBAAb,EAAiCT,sBAAjC;AACAD,EAAAA,OAAO,CAACU,IAAR,CAAa,iBAAb,EAAgCT,sBAAhC;AACD,CAhCD;;eAiCeF,2B","sourcesContent":["// @flow\nimport type { Plugin } from \"../SchemaBuilder\";\n\n// In GraphQL v14, empty descriptions were not output. In GraphQL v15 they are.\n// We don't want them, so this removes them.\n\nconst TrimEmptyDescriptionsPlugin: Plugin = function (builder) {\n  const rmEmptyTypeDescription = type => {\n    if (type.description === \"\") {\n      type.description = null;\n    }\n    return type;\n  };\n  const rmEmptyFieldDescription = field => {\n    if (field.description === \"\") {\n      field.description = null;\n    }\n    return field;\n  };\n  const rmEmptyArgDescriptions = args => {\n    if (!args) {\n      return args;\n    }\n    for (const argName in args) {\n      const arg = args[argName];\n      if (arg.description === \"\") {\n        arg.description = null;\n      }\n    }\n    return args;\n  };\n  builder.hook(\"GraphQLObjectType\", rmEmptyTypeDescription);\n  builder.hook(\"GraphQLObjectType:fields:field\", rmEmptyFieldDescription);\n  builder.hook(\"GraphQLObjectType:fields:field:args\", rmEmptyArgDescriptions);\n  builder.hook(\"GraphQLInputObjectType\", rmEmptyTypeDescription);\n  builder.hook(\"GraphQLInputObjectType:fields:field\", rmEmptyFieldDescription);\n  builder.hook(\"GraphQLUnionType\", rmEmptyTypeDescription);\n  builder.hook(\"GraphQLEnumType\", rmEmptyTypeDescription);\n};\nexport default TrimEmptyDescriptionsPlugin;\n"],"file":"TrimEmptyDescriptionsPlugin.js"}