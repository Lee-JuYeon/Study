{"version":3,"sources":["../../src/plugins/PgNodeAliasPostGraphile.js"],"names":["PgNodeAliasPostGraphile","builder","hook","object","build","context","setNodeAlias","inflection","pluralize","scope","isPgRowType","isPgCompoundType","pgIntrospection","table","name"],"mappings":";;;;;;;IAG+BA,uB,GAAf,eAAeA,uBAAf,CAAuCC,OAAvC,EAAgD;AAC9DA,EAAAA,OAAO,CAACC,IAAR,CACE,mBADF,EAEE,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,KAA4B;AAC1B,UAAM;AACJC,MAAAA,YADI;AAEJC,MAAAA,UAAU,EAAE;AAAEC,QAAAA;AAAF;AAFR,QAGFJ,KAHJ;;AAIA,QAAI,CAACE,YAAL,EAAmB;AACjB;AACA,aAAOH,MAAP;AACD;;AACD,UAAM;AACJM,MAAAA,KAAK,EAAE;AAAEC,QAAAA,WAAF;AAAeC,QAAAA,gBAAf;AAAiCC,QAAAA,eAAe,EAAEC;AAAlD;AADH,QAEFR,OAFJ;;AAGA,QAAIK,WAAW,IAAIC,gBAAnB,EAAqC;AACnCL,MAAAA,YAAY,CAACH,MAAM,CAACW,IAAR,EAAcN,SAAS,CAACK,KAAK,CAACC,IAAP,CAAvB,CAAZ;AACD;;AACD,WAAOX,MAAP;AACD,GAlBH,EAmBE,CAAC,yBAAD,CAnBF;AAqBD,C","sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\n\nexport default (async function PgNodeAliasPostGraphile(builder) {\n  builder.hook(\n    \"GraphQLObjectType\",\n    (object, build, context) => {\n      const {\n        setNodeAlias,\n        inflection: { pluralize },\n      } = build;\n      if (!setNodeAlias) {\n        // Node plugin must be disabled.\n        return object;\n      }\n      const {\n        scope: { isPgRowType, isPgCompoundType, pgIntrospection: table },\n      } = context;\n      if (isPgRowType || isPgCompoundType) {\n        setNodeAlias(object.name, pluralize(table.name));\n      }\n      return object;\n    },\n    [\"PgNodeAliasPostGraphile\"]\n  );\n}: Plugin);\n"],"file":"PgNodeAliasPostGraphile.js"}