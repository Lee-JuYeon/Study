{"version":3,"sources":["../../src/plugins/addStartEndCursor.js"],"names":["base64","str","Buffer","from","String","toString","cursorify","val","__cursor","JSON","stringify","addStartEndCursor","value","data","length","startCursor","endCursor"],"mappings":";;;;;;;AAEA,MAAMA,MAAM,GAAGC,GAAG,IAAIC,MAAM,CAACC,IAAP,CAAYC,MAAM,CAACH,GAAD,CAAlB,EAAyBI,QAAzB,CAAkC,QAAlC,CAAtB;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAOA,GAAG,IAAIA,GAAG,CAACC,QAAX,GAAsBR,MAAM,CAACS,IAAI,CAACC,SAAL,CAAeH,GAAG,CAACC,QAAnB,CAAD,CAA5B,GAA6D,IAApE;AACD;;IAEwBG,iB,GAAT,SAASA,iBAAT,CAA2BC,KAA3B,EAAkC;AAChD,QAAMC,IAAI,GAAGD,KAAK,IAAIA,KAAK,CAACC,IAAf,IAAuBD,KAAK,CAACC,IAAN,CAAWC,MAAlC,GAA2CF,KAAK,CAACC,IAAjD,GAAwD,IAArE;AACA,QAAME,WAAW,GAAGT,SAAS,CAACO,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAb,CAA7B;AACA,QAAMG,SAAS,GAAGV,SAAS,CAACO,IAAI,IAAIA,IAAI,CAACD,KAAK,CAACC,IAAN,CAAWC,MAAX,GAAoB,CAArB,CAAb,CAA3B;AACA,SAAO,EACL,GAAGF,KADE;AAELG,IAAAA,WAFK;AAGLC,IAAAA;AAHK,GAAP;AAKD,C","sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\nconst base64 = str => Buffer.from(String(str)).toString(\"base64\");\n\nfunction cursorify(val) {\n  return val && val.__cursor ? base64(JSON.stringify(val.__cursor)) : null;\n}\n\nexport default (function addStartEndCursor(value) {\n  const data = value && value.data && value.data.length ? value.data : null;\n  const startCursor = cursorify(data && data[0]);\n  const endCursor = cursorify(data && data[value.data.length - 1]);\n  return {\n    ...value,\n    startCursor,\n    endCursor,\n  };\n}: Plugin);\n"],"file":"addStartEndCursor.js"}